<div class="v-full" ng-controller="AttackEditorCtrl" ng-show="ready">
  <div class="span2">
    <h4>Attacks ({{attackList.length}})</h4>
    <button ng-click="newModelDialog()" class="btn btn-small btn-success">New Attack</button>
    <div style="padding-bottom: 15px;"></div>

  </div>
  <div class="span2 scrollable wrapper">
    <table class="table table-condensed table-bordered">
      <thead>
      <tr>
        <th>Attack</th>
      </tr>
      </thead>
      <tbody>
      <tr class="edit-row" ng-class="modelRowClass(model)" ng-click="editModel(model)" ng-repeat="model in attackList">
        <td class="span8">{{model.dbo_id}}</td>
        <td class="span4">
          <a ng-click="deleteModel($event, model)" title="Delete Attack" class="icon-link"><i class="icon-remove"></i></a>
          <a ng-click="copyObject($event, model)" title="Copy Attack" class="icon-link"><i class="icon-share"></i></a>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
  <div class="span8 v-full" ng-hide="!model">
    <div class="row-fluid">
      <div class="offset9 span3">
        <button type="button" class="btn" ng-click="revertModel()" ng-disabled="!isDirty">Revert</button>
        <button type="button" class="btn btn-primary" ng-click="updateModel()" ng-disabled="!isDirty">Update</button>
      </div>
    </div>
    <div class="row-fluid scrollable">
      <div class="span5">
        <div class="row-fluid">
          <label>Attack Command</label>
          <input type="text" ng-model="model.verb" required="true"/>
          <label>Description</label>
          <textarea class="span12" rows="5" ng-model="model.desc"></textarea>

        </div>
        <div class="row-fluid">
          <div class="span6">
            <label>Damage Delivery</label>
            <select class="input-medium" ng-model="model.delivery"
                ng-options="deliveryId as deliveryId for (deliveryId, value) in constants.damage_delivery"></select>
            <label>Damage Type</label>
            <select class="input-medium" ng-model="model.damage_type"
                ng-options="typeId as typeId for (typeId, value) in constants.damage_types"></select>
            <label title="'Wind Up' time in pulses">Prep Time</label>
            <input class="input-small" type="number" ng-model="model.prep_time" min="0" />
          </div>
          <div class="span6">
            <label>Damage Pool</label>
            <select class="input-medium" ng-model="model.damage_pool"
                ng-options="pool_id as pool_id for (pool_id, pool_data) in constants.resource_pools"></select>
            <label>Weapon Type</label>
            <select class="input-medium" ng-model="model.weapon_type"
                ng-options="weapon_type for weapon_type in constants.weapon_options"></select>
          </div>
        </div>
      </div>
      <div class="offset1 span4">
        <div lm-effect-list="costList"></div>
        <div class="spacer" lm-effect-list="damageList"></div>
        <div class="spacer" lm-effect-list="accuracyList"></div>
      </div>
    </div>
  </div>
</div>
