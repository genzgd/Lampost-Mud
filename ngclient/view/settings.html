<div class="container-fluid" ng-controller="SettingsController">
  <div class="row-fluid">
    <div class="span2">
      <h5>Your Settings</h5>
      <ul class="span6 nav nav-list">
        <li ng-class="heading.class" ng-repeat="heading in headings">
          <a ng-href ng-click="click(heading.id)">{{heading.label}}</a></li>
      </ul>
    </div>
    <div class="span8" ng-switch="headingId">
      <div class="row-fluid" ng-switch-when="account">
        <div class="span6">
          <form ng-controller="AccountFormController" name="accountForm" ng-submit="submitAccount()" class="well span12 form-horizontal">
            <div class="control-group">
              <label class="control-label">Account Name</label>

              <div class="controls">
                <input class="span8" name="name" ng-change="inUse = false"
                    type="text" ng-model="user.user_name" ng-minlength="2" ng-maxlength="20" required/>

                <div class="alert alert-error" ng-show="inUse">
                  <button type="button" class="close" ng-click="inUse = false">×</button>
                  Account name in use
                </div>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label">Email Address</label>

              <div class="controls">
                <input class="span10" type="text" ng-model="user.email" name="email"/>
              </div>
            </div>
            <div class="control-group">
              <label class="control-label">New Password</label>

              <div class="controls">
                <input class="span6" type="password" ng-minlength="4" ng-maxlength="20" ng-model="user.password"/>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label">Confirm Password</label>

              <div class="controls">
                <input class="span6" type="password" ng-minlength="4" ng-maxlength="20" ng-model="user.confirm"/>
                <button class="btn btn-primary" type="submit">Update Account</button>
                <div class="alert alert-error" ng-show="passwordMismatch">
                  <button type="button" class="close" ng-click="passwordMismatch = false">×</button>
                  Passwords do not match
                </div>

              </div>
            </div>

            <div class="alert alert-success" ng-show="showSuccess">
              <button type="button" class="close" ng-click="showSuccess = false">×</button>
              Your account has been updated
            </div>

          </form>
        </div>
        <div class="span2">
          <button ng-click="deleteAccount()" class="btn btn-danger">Delete My Account</button>
        </div>
      </div>

      <div ng-switch-when="characters" ng-controller="CharactersTabController">
        <div class="row-fluid">
          <div class="span4">
            <button class="btn btn-info" ng-click="addCharacter()">Add Character</button>
          </div>
        </div>
        <div class="row-fluid">
          <p></p>
          <div class="span4 alert alert-error" ng-show="errorText">
            <button type="button" class="close" ng-click="errorText = null">×</button>
            {{errorText}}
          </div>
        </div>
        <div class="row-fluid">
          <div class="span6">
            <h5>Character Name</h5>
          </div>
        </div>
        <div class="row-fluid">
          <div ng-repeat="player in players">
            <div class="row-fluid">
              <div class="span3">{{player.name}}</div>
              <div class="span1"></div>
              <div class="span1">
                <button class="btn btn-danger btn-mini" ng-click="deleteCharacter(player.dbo_id)">Delete</button>
              </div>
            </div>
          </div>

        </div>
      </div>

      <div ng-switch-when="display" ng-controller="DisplayTabController">
        <div class="row-fluid">
          <div class="offset8 span2">
            <button class="btn btn-primary" title="Reset to game default" ng-click="updateDisplay()">Update Display</button>
          </div>
        </div>
        <div ng-repeat="selector in selectors" class="row-fluid">
          <div class="span3">{{selector.desc}}</div>
          <div class="span1"></div>
          <div class="span2"><input type="text" ng-model="selector.userColor" color-picker></div>
          <div class="span2">
            <button class="btn btn-mini" ng-click="selector.userColor = selector.defaultColor">Reset</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
