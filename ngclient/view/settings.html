<div class="container-fluid" ng-controller="SettingsController">
  <div class="row-fluid">
    <div class="span2">
      <h5>Your Settings</h5>
      <ul class="span6 nav nav-list">
        <li ng-class="heading.class" ng-repeat="heading in headings">
          <a ng-href ng-click="click(heading.id)">{{heading.label}}</a></li>
      </ul>
    </div>
    <div class="span8" ng-switch="headingId">
      <div class="row-fluid" ng-switch-when="account">
        <div class="span6">
          <form ng-controller="AccountFormController" name="accountForm" ng-submit="submitAccount()"  class="well span12 form-horizontal">
            <div class="control-group">
              <label class="control-label">Account Name</label>

              <div class="controls">
                <input class="span8" name="name" ng-change="inUse = false"
                    type="text" ng-model="user.user_name" ng-minlength="2" ng-maxlength="20" required/>

                <div class="alert alert-error" ng-show="inUse">
                  <button type="button" class="close" ng-click="inUse = false">×</button>
                  Account name in use
                </div>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label">Email Address</label>

              <div class="controls">
                <input class="span10" type="text" ng-model="user.email" name="email"/>
              </div>
            </div>
            <div class="control-group">
              <label class="control-label">New Password</label>

              <div class="controls">
                <input class="span6" type="password" ng-minlength="4" ng-maxlength="20" ng-model="user.password"/>
              </div>
            </div>

            <div class="control-group">
              <label class="control-label">Confirm Password</label>

              <div class="controls">
                <input class="span6" type="password" ng-minlength="4" ng-maxlength="20" ng-model="user.confirm"/>
                <button class="btn btn-primary" type="submit">Update Account</button>
                <div class="alert alert-error" ng-show="passwordMismatch">
                  <button type="button" class="close" ng-click="passwordMismatch = false">×</button>
                  Passwords do not match
                </div>

              </div>
            </div>

            <div class="alert alert-success" ng-show="showSuccess">
              <button type="button" class="close" ng-click="showSuccess = false">×</button>
              Your account has been updated
            </div>

          </form>
        </div>
        <div class="span2">
          <button ng-click="deleteAccount()" class="btn btn-danger">Delete My Account</button>
        </div>
      </div>

      <div ng-switch-when="colors">
        <form class="form-horizontal">
          <div class="control-group">
            <label class="control-label" for="inputEmail">Email</label>

            <div class="controls">
              <input type="text" id="inputEmail" placeholder="Email">
            </div>
          </div>
          <div class="control-group">
            <label class="control-label" for="inputPassword">Password</label>

            <div class="controls">
              <input type="password" id="inputPassword" placeholder="Password">
            </div>
          </div>
          <div class="control-group">
            <div class="controls">
              <label class="checkbox">
                <input type="checkbox"> Remember me
              </label>
              <button type="submit" class="btn">Sign in</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
